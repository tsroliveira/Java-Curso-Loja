<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorate="~{administrativo/fragments/layout}">
<head>
	<title>Página de Cadastro de Entrada de Produtos </title>
</head>
<body>

	<section class="layout-content" layout:fragment="corpo">
	
	        <div class="page-header">
	            <nav class="navbar navbar-expand-md navbar-top bg-light">
	                <div class="collapse navbar-collapse" id="navbarsExampleDefault">
	                    <ul class="navbar-nav">
	                        <li class="nav-item active">
	                            <i class="oi oi-caret-right"></i>
	                            <span>Entrada de Produtos</span>
	                        </li>
	                    </ul>
	                </div>
	                <a class="btn btn-primary btn-md" href="/administrativo/entrada/listar" role="button">
	                    <span class="oi oi-spreadsheet" title="Cadastro" aria-hidden="true"></span>
	                    <span>Listar Entrada de Produtos </span>
	                </a>
	            </nav>
	        </div>
	
	        <div class="container" id="cadastro">
	            <form action="/administrativo/entrada/salvar" th:object="${entrada}" method="POST">
	                <div class="form-row">
						<div class="form-group col-md-6">
	                        <label>Funcionário</label>
		                        <select th:field="*{funcionario}" class="form-control">
		                        	<option th:each="fun: ${listaFuncionarios}" th:value="${fun.id}" th:text="${fun.nome}"></option>
		                        </select>
	                        <div class="invalid-feedback"></div>
	                    </div>
	                    
	                    <div class="form-group col-md-6">
	                        <label for="observacao">Observação</label>
	                        <input type="text" class="form-control" id="observacao" placeholder="Observação"
	                               autofocus="autofocus" th:field="*{observacao}" value=""/>
	                        <div class="invalid-feedback"></div>
	                    </div>
	                    
	                </div>
	                
	                <div class="form-row">	                    
	                    <div class="form-group col-md-12">
	                        <label for="fornecedor">Fornecedor</label>
	                        <input type="text" class="form-control" id="fornecedor" placeholder="Fornecedor"
	                               autofocus="autofocus" th:field="*{fornecedor}" value=""/>
	                        <div class="invalid-feedback"></div>
	                    </div>
	                    
	                </div>
	                <hr>
	                
	                <div class="form-row" th:object="${entradaItens}">
						<div class="form-group col-md-5">
	                        <label>Produto</label>
		                        <select th:field="*{produto}" class="form-control">
		                        	<option th:each="prod: ${listaProdutos}" th:value="${prod.id}" th:text="${prod.descricao}"></option>
		                        </select>
	                        <div class="invalid-feedback"></div>
	                    </div>
	                    
	                    <div class="form-group col-md-2">
	                        <label for="quantidade">Quantidade</label>
	                        <input type="number" class="form-control" id="quantidade" placeholder="Quantidade"
	                               autofocus="autofocus" th:field="*{quantidade}" value=""/>
	                        <div class="invalid-feedback"></div>
	                    </div>
	                    
	                    <div class="form-group col-md-2">
	                        <label for="valorProduto">Valor Cursto</label>
	                        <input type="number" class="form-control" id="valorProduto" placeholder="Valor de Cursto"
	                               autofocus="autofocus" th:field="*{valorProduto}" value=""
	                               max="999999999999999.99" step="0.01"/>
	                        <div class="invalid-feedback"></div>
	                    </div>
	                    
	                    <div class="form-group col-md-2">
	                        <label for="valorVenda">Valor Venda</label>
	                        <input type="number" class="form-control" id="valorVenda" placeholder="Valor de Venda"
	                               autofocus="autofocus" th:field="*{valorVenda}" value=""
	                               max="999999999999999.99" step="0.01"/>
	                        <div class="invalid-feedback"></div>
	                    </div>
	                    
	                     <div class="form-group col-md-1">
							 <br/>
							 <button id="add" name="acao" th:value="itens" type="submit" 
							 	style="margin-top:8px" class="btn btn-primary">ADD</button>
	                    </div>
	                    
	                   	<input type="hidden" id="id" th:field="*{id}" value=""/>

	                </div>
	                
	                <div class="form-row">
						<div class="form-group col-md-12">
							<div class="table-responsive">
								<table class="table table-striped table-hover table-sm">
				                    <thead>
				                    <tr>
				                        <th>Descrição</th>
				                        <th>Quantidade</th>
				                        <th>Valor de Cursto</th>
				                        <th>Valor de Venda</th>
				                        <th>Ação</th>                      
				                    </tr>
				                    </thead>
				                    <tbody>
					                    <tr th:each="itens : ${listaEntradaItens}">
					                        <td th:text="${itens.produto.descricao}"></td>
					                        <td th:text="${itens.quantidade}"></td>
					                        <td th:text="${itens.valorProduto}"></td>
					                        <td th:text="${itens.valorVenda}"></td>
					                        <td colspan="2">Remover</td>
					                    </tr>
				                    </tbody>
				                </table>
							</div>
						</div>
					</div>
	                	                
	                <button type="submit" class="btn btn-primary btn-lg btn-block" name="acao" th:value="salvar" >Salvar</button>
	            </form>
	        </div>
	    </section>
</body>
</html>		